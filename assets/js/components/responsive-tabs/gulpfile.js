var gulp=require("gulp"),browserSync=require("browser-sync").create(),jshint=require("gulp-jshint"),uglify=require("gulp-uglify"),rename=require("gulp-rename"),bump=require("gulp-bump"),header=require("gulp-header"),modRewrite=require("connect-modrewrite"),qunit=require("node-qunit-phantomjs"),runSequence=require("run-sequence"),argv=require("yargs").argv,config={paths:{scripts:["./js/jquery.responsiveTabs.js"],images:"client/img/**/*"}};gulp.task("release",function(e){runSequence("bump","build",e)}),gulp.task("build",function(){var e=require("./package.json"),r=e.author.split(" <")[0],i=["/**"," * <%= pkg.name %>"," * "," * <%= pkg.description %>"," * "," * @author <%= author %>"," * @version v<%= pkg.version %>"," * @license <%= pkg.license %>"," */",""].join("\n");return gulp.src(config.paths.scripts).pipe(uglify({preserveComments:"some"})).pipe(header(i,{pkg:e,author:r})).pipe(rename({extname:".min.js"})).pipe(gulp.dest("js/"))}),gulp.task("bump",function(){var e={};return"v"in argv&&(e.type=argv.v),gulp.src(["./package.json"]).pipe(bump(e)).pipe(gulp.dest("./"))}),gulp.task("lint",function(){return gulp.src(config.paths.scripts).pipe(jshint()).pipe(jshint.reporter("default"))}),gulp.task("test",function(){qunit("./test/fixture.html")}),gulp.task("watch",function(){gulp.watch(config.paths.scripts,["lint"])}),gulp.task("serve",["watch"],function(){browserSync.init({server:{baseDir:"./",middleware:[modRewrite(["^/$ /demo.html"])]}}),gulp.watch("*.html").on("change",browserSync.reload)}),gulp.task("default",["serve"]);